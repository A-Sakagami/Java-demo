$ mvn dependency:tree | grep httpclient
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8
[INFO] +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile
ChatGPT:
mvn dependency:tree | grep httpclient ã®çµæœã‹ã‚‰ã€Maven ã® httpclient ä¾å­˜é–¢ä¿‚ã¯ æ­£ã—ãè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚
ã—ã‹ã—ã€java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient ãŒç™ºç”Ÿã™ã‚‹ã®ã¯ã€å®Ÿè¡Œæ™‚ã« httpclient ã® JAR ãŒã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã«å«ã¾ã‚Œã¦ã„ãªã„ ãŸã‚ã§ã™ã€‚

âœ… è§£æ±ºç­–
ğŸš€ æ–¹æ³• 1: java -cp ã®ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã‚’ä¿®æ­£
ç¾åœ¨ã® java -jar ã®å®Ÿè¡Œæ–¹æ³•ã§ã¯ ä¾å­˜é–¢ä¿‚ãŒ JAR ã«å«ã¾ã‚Œã¦ã„ãªã„ ãŸã‚ã€java -cp ã§ httpclient ã‚’æ‰‹å‹•ã§è¿½åŠ ã—ã¾ã™ã€‚

sh
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
java -cp "target/demo-1.0-SNAPSHOT.jar;target/lib/*" api.weather.OpenWeatherRequestCatch
ğŸ“Œ PowerShell ã§ã¯ ;ã€Mac/Linux ã§ã¯ : ã‚’ä½¿ã†ã®ã§æ³¨æ„ï¼

âœ… ã“ã‚Œã§ httpclient ã® NoClassDefFoundError ãŒè§£æ±ºã™ã‚‹ã¯ãšï¼

ğŸš€ æ–¹æ³• 2: jar-with-dependencies ã‚’ä½œæˆ
Maven ã® maven-assembly-plugin ã‚’ä½¿ã£ã¦ã€ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’å«ã‚€ JARï¼ˆfat JARï¼‰ ã‚’ä½œæˆã—ã¾ã™ã€‚

1ï¸âƒ£ pom.xml ã«ä»¥ä¸‹ã®è¨­å®šã‚’è¿½åŠ 

xml
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-assembly-plugin</artifactId>
    <version>3.4.0</version>
    <executions>
        <execution>
            <id>make-assembly</id>
            <phase>package</phase>
            <goals>
                <goal>single</goal>
            </goals>
            <configuration>
                <descriptorRefs>
                    <descriptorRef>jar-with-dependencies</descriptorRef>
                </descriptorRefs>
                <archive>
                    <manifest>
                        <mainClass>api.weather.OpenWeatherRequestCatch</mainClass>
                    </manifest>
                </archive>
            </configuration>
        </execution>
    </executions>
</plugin>
2ï¸âƒ£ Maven ã§ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰

sh
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
mvn clean package
3ï¸âƒ£ fat JAR ã‚’å®Ÿè¡Œ

sh
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
java -jar target/demo-1.0-SNAPSHOT-jar-with-dependencies.jar
âœ… ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’å«ã‚€ JAR ãªã®ã§ã€httpclient ã® NoClassDefFoundError ãŒè§£æ±ºï¼

ğŸš€ æ–¹æ³• 3: mvn dependency:copy-dependencies ã‚’å®Ÿè¡Œ
Maven ã§ target/lib/ ã«ä¾å­˜é–¢ä¿‚ã® JAR ãŒæ­£ã—ãé…ç½®ã•ã‚Œã¦ã„ã‚‹ã‹ ç¢ºèªã—ã¾ã™ã€‚

sh
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
mvn dependency:copy-dependencies
ãã®å¾Œã€å†åº¦ java -cp ã§å®Ÿè¡Œï¼š

sh
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
java -cp "target/demo-1.0-SNAPSHOT.jar;target/dependency/*" api.weather.OpenWeatherRequestCatch
âœ… ã‚‚ã— target/lib/ ã« JAR ãŒãªã„å ´åˆã¯ã€mvn dependency:copy-dependencies ã§è§£æ±ºã§ãã‚‹ï¼

ğŸ¯ ã¾ã¨ã‚
è©¦ã™ã¹ãã“ã¨	ã‚³ãƒãƒ³ãƒ‰ / æ–¹æ³•
httpclient ã® JAR ãŒã‚ã‚‹ã‹ç¢ºèª	`ls target/lib/
ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã‚’ä¿®æ­£ã—ã¦å®Ÿè¡Œ	java -cp "target/demo-1.0-SNAPSHOT.jar;target/lib/*" api.weather.OpenWeatherRequestCatch
ä¾å­˜é–¢ä¿‚ã‚’å«ã‚€ fat JAR ã‚’ä½œæˆ	mvn clean package å¾Œã€java -jar target/demo-1.0-SNAPSHOT-jar-with-dependencies.jar
ä¾å­˜é–¢ä¿‚ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹	mvn dependency:copy-dependencies
ğŸ’¡ ã€Œæ–¹æ³• 1ï¼ˆã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã‚’æ‰‹å‹•è¨­å®šï¼‰ã€ã¾ãŸã¯ã€Œæ–¹æ³• 2ï¼ˆfat JAR ã‚’ä½œæˆï¼‰ã€ã§è§£æ±ºã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ï¼ ğŸš€